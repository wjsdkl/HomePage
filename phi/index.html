<!doctype html><html><head><title>一个基于 Pixi.js 的 Phigros 谱面渲染器。</title><meta content="一个基于 Pixi.js 的 Phigros 谱面渲染器。" name="description"/><meta content="MisaLiu" name="author"/><meta charset="utf-8"/><meta content="width=device-width" name="viewport"/><link href="./icons/favicon.ico" rel="shortcut icon"/><link href="./manifest.webmanifest" rel="manifest"/><link href="./style.css" rel="stylesheet"/><link href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet"/><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/5.1.3/js/bootstrap.min.js"></script><script>const GITHUB_CURRENT_GIT_HASH = `{{CURRENT_HASH}}`;

            function setCookie(cname,cvalue,exdays)
            {
                var d = new Date();
                d.setTime(d.getTime()+(exdays*24*60*60*1000));
                var expires = "expires="+d.toGMTString();
                document.cookie = cname + "=" + cvalue + "; " + expires;
            }

            function getCookie(cname)
            {
                var name = cname + "=";
                var ca = document.cookie.split(';');
                for(var i=0; i<ca.length; i++) 
                {
                    var c = ca[i].trim();
                    if (c.indexOf(name)==0) return c.substring(name.length,c.length);
                }
                return "";
            }

            function getSearchString(name)
            {
                let searchString = window.location.search.substring(1, window.location.search.length);
                let searchStrings = searchString.split('&');

                if (!name || name == '') return null;
                if (searchStrings.length <= 0) return null;

                for (const singleString of searchStrings)
                {
                    if (singleString.indexOf(name + '=') >= 0)
                    {
                        let stringValue = singleString.replace(name + '=', '');
                        return decodeURIComponent(stringValue);
                    }
                }

                return null;
            }

            async function unregistServiceWorker()
            {
                if (navigator.serviceWorker.getRegistrations)
                {
                    let sws = await navigator.serviceWorker.getRegistrations();
                    if (sws.length > 1)
                    {
                        for (const sw of sws)
                        {
                            sw.unregister();
                        }
                    }
                }
            }

            if (getSearchString('debug') === 'true')
            {
                let xhr = new XMLHttpRequest();

                xhr.onreadystatechange = () =>
                {
                    if (xhr.readyState === 4 && xhr.status === 200)
                    {
                        eval(xhr.responseText);
                        window.vConsole = new window.VConsole();

                        console.warn(
                            'You\'re using debug mode, which will enable vConsole for mobile device debuging.\n' +
                            'You SHOULDN\'T use debug mode in normal use, and don\'t run ANY code here from people that you don\'t know.'
                        );
                        console.warn(
                            '你正在使用 debug 模式，该模式将启用 vConsole 以方便在移动设备上进行调试。\n' +
                            '你【不应该】在正常使用中启用 debug 模式，并不要在这里运行【任何】来自你不认识的人的代码。'
                        );
                    }
                }

                xhr.open('GET', 'https://cdn.bootcdn.net/ajax/libs/vConsole/3.15.0/vconsole.min.js');
                xhr.send();
            }
            
            // Init service worker
            if (GITHUB_CURRENT_GIT_HASH != '{{' + 'CURRENT_HASH' + '}}' && 'serviceWorker' in navigator)
            {
                /*
                if (navigator.userAgent.indexOf('like Mac OS X') > -1)
                {
                    if (getCookie('ios-unregist') != 'true')
                    {
                        unregistServiceWorker();
                        setCookie('ios-unregist', 'true');
                    }
                }
                else */
                if (getSearchString('unregistServiceWorker') == 'true')
                {
                    unregistServiceWorker();
                }
                else
                {
                    navigator.serviceWorker.register('./sw.js');
                }
            }</script></head><body><div class="container"><div class="file-select"><div class="alert alert-primary"><b>iOS 用户注意:</b><br>请使用夸克浏览器以获得更好的体验（不是广告）。</div><hr/><div class="alert alert-primary">由于在 FireFox Android 上存在性能问题，请考虑使用 <a href="https://github.com/kiwibrowser/src.next/releases" target="_blank">Kiwi Browser</a> 或 <a href="https://viayoo.com/" target="_blank">Via</a> 或 <a href="https://www.google.com/chrome/" target="_blank">Google Chrome</a>。</div><hr/><div class="loading alert alert-primary" id="loading-status">正在加载...</div><hr/><div class="tab"><div class="bar"><div class="active" data-tab-id="file">文件</div><div data-tab-id="visual">视觉</div><div data-tab-id="sound">声音</div><div data-tab-id="other">其他</div><div data-tab-id="phizone">PhiZone</div></div><div class="content"><div id="tab-file"><label class="btn btn-primary mb-2 mt-2">上传资源文件：<input disabled="disabled" id="file-chart-pack" multiple="multiple" type="file"></label><br><div class="loading alert alert-primary" id="file-read-progress">请等待资源加载完成...</div><hr/><label class="input-group-text mb-2 mt-2">铺面：<select class="form-select" id="file-chart"></select></label> <label class="input-group-text mb-2 mt-2">音乐：<select class="form-select" id="file-music"></select></label> <label class="input-group-text mb-2 mt-2">背景图片：<select class="form-select" id="file-bg"></select></label></div><div id="tab-visual"><label class="btn btn-primary mb-2 mt-2">自定义皮肤包：<input disabled="disabled" id="file-skin-pack" type="file"/></label> <a download="skin.example.zip" href="./skin.example.zip">下载示例皮肤包</a><br><div class="loading alert alert-primary" id="loading-skin-pack">未选择皮肤包</div><hr/><label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-show-bg" type="checkbox"/>显示背景图片</label> <label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-multi-note-hl" type="checkbox"/>多押高亮</label> <label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-show-ap-status" type="checkbox"/>FC/AP指示器</label> <label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-show-input-point" type="checkbox"/>触摸反馈</label> <label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-anti-alias" type="checkbox"/>抗锯齿</label> <label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-low-resolution" type="checkbox"/>低分辨率模式</label> <label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-prpr-extra" type="checkbox"/>使用 prpr 的 extra.json 文件（实验性功能）</label><hr/><label class="input-group-text mb-2 mt-2">背景图片质量：<select class="form-select" id="settings-bg-quality"><option value="0">低（480P）</option><option default selected="selected" value="1">中等（720P）</option><option value="2">高（1080P）</option><option value="3">原始</option></select></label><hr/><label class="input-group-text mb-2 mt-2">按键缩放：<input class="form-range" id="settings-note-scale" max="4000" min="0" type="range" value="2000"></label> <label class="input-group-text mb-2 mt-2">背景透明度：<input class="form-range" id="settings-bg-dim" max="1" min="0" step="0.01" type="range" value="0.5"></label> <label class="input-group-text mb-2 mt-2">背景模糊：<input class="form-range" id="settings-bg-blur" max="100" min="0" type="range" value="50"/></label></div><div id="tab-sound"><label class="input-group-text mt-2">谱面偏移：<input class="form-control" id="settings-audio-offset" placeholder="0" type="number"/>毫秒</label><div class="input-group-text mb-2 mt-2">(建议在 Chrome/Chrome based 浏览器中设置为 100ms)</div><button class="btn btn-primary" id="settings-test-input-delay">点击此按钮测试输入延迟...</button><br><label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-use-browser-latency" type="checkbox"/>使用浏览器的输出延迟（实验性功能）</label> <label class="input-group-text mb-2 mt-2">速度：<input class="form-range" id="settings-audio-speed" max="1.75" min="0.25" step="0.25" type="range" value="1"></label><hr><label class="input-group-text mb-2 mt-2"><input checked="checked" class="form-check-input" id="settings-hitsound" type="checkbox"/>击打音效</label> <label class="input-group-text mb-2 mt-2">击打音效音量：<input class="form-range" id="settings-hitsound-volume" max="1" min="0" step="0.01" type="range" value="1"></label><br></div><div id="tab-other"><label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-challenge-mode" type="checkbox"/>挑战模式</label> <label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-plyndb" type="checkbox"/>像从未尝试过一样玩（</label> <label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-autoplay" type="checkbox"/>自动播放</label> <label class="input-group-text mb-2 mt-2"><input class="form-check-input" id="settings-debug" type="checkbox"/>调试</label></div><div id="tab-phizone"><label>从 <a href="https://www.phi.zone/" target="_href">PhiZone</a> 中粘贴谱面链接/ID 到这里：<input id="phizone-chart-link" class="form-control"/></label> <button id="phizone-download-chart" class="btn btn-primary">下载</button><hr><div class="loading alert alert-primary" id="phizone-download-progress">无下载任务</div></div></div></div><hr/><button class="btn btn-primary" disabled="disabled" id="start">开始</button><hr/><div class="alert alert-primary">版本号: v0.0.1-beta15-17-gfea642e<br>项目地址: <a href="https://github.com/MisaLiu/phi-chart-render" target="_blank">https://github.com/MisaLiu/phi-chart-render</a><br>点击<a href="https://github.com/MisaLiu/phi-chart-render/issues/new/choose" target="_blank">此处</a>反馈</div><hr/><div class="alert alert-primary">Consider <a href="https://patreon.com/HIMlaoS_Misa" target="_blank">support me on Patreon</a> if you like!<br/>喜欢的话可以到 <a href="https://afdian.net/a/MisaLiu" target="_blank">爱发电</a> 支持一下！</div><hr/>We uses <a href="https://sentry.io" target="_blank">Sentry.io</a> and <a href="https://analytics.google.com/" target="_blank">Google Analytics</a> to tracking errors and analyze user usage data. <button class="fullscreen" id="fullscreen" onclick="fullscreen.toggle(document.body, false)">Fullscreen</button></div></div><div class="debug-value"></div><div class="play-result"><div class="bg-shadow-cover top"></div><div class="bg-shadow-cover"></div><div class="song-info"><div class="title">Song name</div><div class="subtitle artist">Artist</div><div class="subtitle diff">SP Lv.?</div></div><div class="judge-icon">S</div><div class="extra-info">FULL COMBO</div><div class="info-bar score"><div class="score">1000000</div><div class="acc">Accuracy 100.00%</div></div><div class="info-bar acc-bar"><div class="judge-histogram"><div class="center"></div></div></div><div class="info-bar detail"><div class="detail"><div class="detail-single"><div class="type">Perfect</div><div class="value perfect">100</div></div><div class="detail-single"><div class="type">Good</div><div class="value good">0</div></div><div class="detail-single"><div class="type">Bad</div><div class="value bad">0</div></div><div class="detail-single"><div class="type">Miss</div><div class="value miss">0</div></div></div><div class="max-combo">Max Combo 100</div></div><div class="actions"><button onclick="history.go(0)">Refresh</button> <button class="big highlight" onclick="restartGame()">Restart</button> <button class="big highlight" onclick="exitGame()">Exit</button></div></div><div class="game-paused"><div class="title">游戏暂停</div><div class="action btn-group"><button class="btn btn-primary" onclick="fullscreen.toggle(document.body, false)">全屏</button> <button class="btn btn-secondary" onclick="exitGame()">退出</button> <button class="btn btn-danger" onclick="restartGame()">重新开始</button> <button class="btn btn-success" onclick="pauseGame()">继续</button></div></div><div class="error-window"><div>An error has just occurred, if you're sure this is not caused by you, please <a href="https://github.com/MisaLiu/phi-chart-render/issues/new/choose" target="_blank">report it on GitHub</a>. <button class="close">Close</button></div><pre><code class="content">Test Text Not A Real Error</code></pre><div>The infomation about this error will upload to <a href="https://sentry.io" target="_blank">Sentry.io</a> for analyze and debug.</div></div><script defer="defer" src="script-v0.0.1-beta15-17-gfea642e.js"></script></body></html>